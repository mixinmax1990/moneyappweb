<!DOCTYPE html>
<html>
<head>
    
    <script src="https://x.klarnacdn.net/xs2a/app-launcher/v0/xs2a-app-launcher.js"></script>
</head>
<body> 
    <input id="text" placeholder="Enter ClientID"/>
    <button id="submit" name="send">Send</button>;

    <script>
        /*
        function getData(){
            var token = "MTYxMzY4Njc0OXx8fDkwODdmM2MwLWU2YzItNDRmNS1hZTEwLTdkNjYwODU1Y2E4MHx8fDIwNTR8fHxyaXZlcmJhbmsuKg==.acnm+WH42OrltnKstvQyk0e7nml+Je6bAA0YnywwAvo=";
            const xhr = new XMLHttpRequest();

            let headers = new Headers();

            //headers.append('Content-Type', 'application/json');
            //headers.append('Accept', 'application/json');
            //headers.append('Authorization', 'Bearer ' + token);
            //headers.append('Access-Control-Allow-Origin', '*');
            

            xhr.open('PUT', 'https://api.playground.openbanking.klarna.com/xs2a/v1/sessions');
            xhr.setRequestHeader('Authorization', 'Bearer ' + token);
            xhr.setRequestHeader('Access-Control-Allow-Origin', 'http://18.159.89.0');

            var psu = {
                "language": "en",
                "psu": {
                    "user_agent": navigator.userAgent,
                    "ip_address": "18.159.89.0"
                }
            }
            xhr.send(psu); 
            //navigator.userAgent
        }

        //getData();

    

        window.onXS2AReady = XS2A => {
        // configure once for all flows (optional)
        window.XS2A.configure({
            autoClose: true,
            hideTransitionOnFlowEnd: true,
            onLoad: () => {
                console.log('onLoad called')
            },
            onReady: () => {
                console.log('onReady called')
            },
            onAbort: () => {
                console.log('onAbort called')
            },
            onError: error => {
                console.log('onError called', error)
            },
            onFinished: () => {
                console.log('onFinished called')
            },
            onClose: () => {
                console.log('onClose called')
            },
        })

        try {
                // Start the flow with the client_token from the flow response.
                window.XS2A.startFlow(
                    'eyJhbGciOiJSUzI1NiJ9.eyJzZXNzaW9uX2lkX3Nob3J0IjoiQkNIVjkyRjQiLCJmbG93X3R5cGUiOiJ0cmFuc2FjdGlvbnMiLCJhdXRoX3VybCI6Imh0dHBzOi8vYXV0aGFwaS5wbGF5Z3JvdW5kLm9wZW5iYW5raW5nLmtsYXJuYS5jb20veHMyYS92MS93aXphcmQvbWF2dnF1MTBwMWIzc3NiODcxMjhjMHBmbjg3dmpmaWoiLCJ4czJhX2FwcF91cmwiOiJodHRwczovL3gua2xhcm5hY2RuLm5ldC94czJhL2FwcC92MC9pbmRleC5odG1sI21hdnZxdTEwcDFiM3NzYjg3MTI4YzBwZm44N3ZqZmlqIiwid2lkZ2V0X2FwcF91cmwiOiJodHRwczovL3gua2xhcm5hY2RuLm5ldC94czJhL3dpZGdldC1hcHAve3ZlcnNpb259L2luZGV4Lmh0bWwjbWF2dnF1MTBwMWIzc3NiODcxMjhjMHBmbjg3dmpmaWoiLCJ0cmFuc2xhdGlvbnNfdXJsIjoiaHR0cHM6Ly9hdXRoYXBpLnBsYXlncm91bmQub3BlbmJhbmtpbmcua2xhcm5hLmNvbS94czJhL3YxL3RyYW5zbGF0aW9ucy9tYXZ2cXUxMHAxYjNzc2I4NzEyOGMwcGZuODd2amZpaiJ9.XLtePCYOtMnFPAO595hmuvpPLXu8RDrvbdMZlAt6FU_c6DRyRD-AYcbmjTd7G2melwcWk8DB_zBoQaPiqitpOb_GF5bcO_nGfMQ38roX5cUTK9dZeazz7it4bY0VIpd-uMBTBQpiEr3g-QU9jfyg7N_qs8RiEl8TvHChnBRu084rAph-nBT30hhrPuR7vkSu1nyu1mhmgxEINr3IKnEdV15uymwwfaSAj8dJzx859DwVrK7nbRpLwNXUig-HjO7HboLJYG7-yphM360GjMhOls4XwKwXdO-jviCB3ebfjVWIueSgAec--AHt0QWxQLP6ECsDSIOD6KjaZLruCm_RMQ',
                    {
                        onFinished: () => {
                            // Read the flow from the server to retrieve the account list.
                            console.log('onFinished: read the flow from the server to retrieve the account list.')
                        },
                        onError: error => {
                            console.error('onError: something bad happened during the flow.', error)
                        },
                    }
                )
            } catch (e) {
                // Handle error that happened while opening the App
                console.error(e)
            }
    }
*/
   

        

        document.getElementById("submit").addEventListener("click", function(){
            console.log("It runs");
        })

    
    </script>
</body>
</html>